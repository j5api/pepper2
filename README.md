# Pepper2

Robot Management Daemon

## Dependencies

Some of the dependencies for pepper2 are not available on PyPI.

- [GLib](https://developer.gnome.org/glib/) 2.46+
- [girepository](https://wiki.gnome.org/Projects/GObjectIntrospection) 1.46+
- UDisks2
- udiskie or similar automounting daemon that uses udisks2.
- D-Bus

These packages can usually be found on systems with a desktop interface anyway.

## Running

There are two programs in this repo, with shared code between them.

- `pepperctl`
    - CLI tool that talks to pepperd over D-Bus.
- `pepperd`
    - Daemon that sits on the System Bus
    - Listens for mount and cleanup events from UDisks
    - Registers the USBs.
    - Triggers run and stop events for USBs, based on a set of conditions.
    
In order to run `pepperd`, we need to tell D-Bus that we have permission to create a service on the System Bus.
This can be done by placing `pepper2-dbus.conf` in `/etc/dbus-1/pepper2-bus.conf`.
    
## Development Resources

This program makes heavy use of D-Bus, which is not the simplest thing in the world to understand.

- [DBus Overview](https://pythonhosted.org/txdbus/dbus_overview.html)
- [D-Feet](https://github.com/GNOME/d-feet)

## Contributions

This project is released under the MIT Licence. For more information, please see LICENSE.

The CONTRIBUTORS file can be generated by executing CONTRIBUTORS.gen. This generated file contains a list of people who have contributed to Pepper2.

## Etymology

No, it's not version 2.

![Wouldn't you like to be a pepper too?](https://i.imgur.com/B2BBwz1.gif)
